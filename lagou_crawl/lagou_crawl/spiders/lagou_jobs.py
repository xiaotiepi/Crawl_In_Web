# -*- coding: utf-8 -*-
import scrapy
from lagou_crawl.items import LagouCrawlItem


class LagouJobsSpider(scrapy.Spider):
    """
    拉钩职位数据爬虫
    """
    name = 'lagou_jobs'
    allowed_domains = ['lagou.com']
    headers = {
        'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
        'Accept-Encoding': 'gzip, deflate, br',
        'Accept-Language': 'zh-CN,zh;q=0.9',
        'Cache-Control': 'max-age=0',
        'Connection': 'keep-alive',
        'Cookie': 'WEBTJ-ID=20181227220739-167effdfc0362a-021e18aff567df-162a1c0b-2073600-167effdfc041c; _ga=GA1.2.355303414.1545919659; user_trace_token=20181227220739-c4fdde43-09e0-11e9-ad84-5254005c3644; LGUID=20181227220739-c4fde4e6-09e0-11e9-ad84-5254005c3644; JSESSIONID=ABAAABAAAFCAAEG306C351D7F694112C64A149066A55419; _gid=GA1.2.1788467318.1548447328; Hm_lvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1545919661,1548447328; LGSID=20190126041527-f4dd313b-20dd-11e9-b7ec-5254005c3644; PRE_UTM=; PRE_HOST=; PRE_SITE=; PRE_LAND=https%3A%2F%2Fpassport.lagou.com%2Flogin%2Flogin.html%3Fsignature%3DCA0528DDCB3B2A65322357CFBF983878%26service%3Dhttp%25253A%25252F%25252Fwww.lagou.com%25252Fzhaopin%25252F%25252520%252525E6%2525259D%252525A5%252525E6%252525BA%25252590%25253A%25252520%252525E5%252525AE%2525259E%252525E9%252525AA%2525258C%252525E6%252525A5%252525BC%25252520%252525E9%25252593%252525BE%252525E6%2525258E%252525A5%25253A%25252520https%25253A%25252F%25252Fwww.shiyanlou.com%25252Fcourses%25252F1140%25252520%252525E6%2525259C%252525AC%252525E8%252525AF%252525BE%252525E7%252525A8%2525258B%252525E5%25252586%25252585%252525E5%252525AE%252525B9%252525EF%252525BC%2525258C%252525E7%25252594%252525B1%252525E4%252525BD%2525259C%252525E8%25252580%25252585%252525E6%2525258E%25252588%252525E6%2525259D%25252583%252525E5%252525AE%2525259E%252525E9%252525AA%2525258C%252525E6%252525A5%252525BC%252525E5%2525258F%25252591%252525E5%252525B8%25252583%252525EF%252525BC%2525258C%252525E6%2525259C%252525AA%252525E7%252525BB%2525258F%252525E5%25252585%25252581%252525E8%252525AE%252525B8%252525EF%252525BC%2525258C%252525E7%252525A6%25252581%252525E6%252525AD%252525A2%252525E8%252525BD%252525AC%252525E8%252525BD%252525BD%252525E3%25252580%25252581%252525E4%252525B8%2525258B%252525E8%252525BD%252525BD%252525E5%2525258F%2525258A%252525E9%2525259D%2525259E%252525E6%252525B3%25252595%252525E4%252525BC%252525A0%252525E6%25252592%252525AD%26action%3Dlogin%26serviceId%3Dlagou%26ts%3D1548447327467; sajssdk_2015_cross_new_user=1; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2216886a72a651373-03ebda91e54f2-162a1c0b-2073600-16886a72a66b07%22%2C%22%24device_id%22%3A%2216886a72a651373-03ebda91e54f2-162a1c0b-2073600-16886a72a66b07%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E7%9B%B4%E6%8E%A5%E6%B5%81%E9%87%8F%22%2C%22%24latest_referrer%22%3A%22%22%2C%22%24latest_referrer_host%22%3A%22%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC_%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%22%7D%7D; TG-TRACK-CODE=search_code; _gat=1; index_location_city=%E6%B7%B1%E5%9C%B3; SEARCH_ID=f28ffcb725b24163a4c7b0ade485c1f8; Hm_lpvt_4233e74dff0ae5bd0a3d81c6ccf756e6=1548447487; LGRID=20190126041806-53928400-20de-11e9-b7ec-5254005c3644',
        'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36'
    }

    def start_requests(self):
        urls = [
            'https://www.lagou.com/zhaopin/{}/'.format(i) for i in range(1, 31)
        ]
        for url in urls:
            yield scrapy.Request(url=url, callback=self.parse, headers=self.headers)

    def parse(self, response):
        
        pass
